(編集中)
# Keiba_Yosoku_AI
Juliaを用いた競馬予測AIです。  
お遊びで作ったので精度や動作は**全く**保証しません。  
汎用性も拡張性も皆無です。  
Juliaのディープラーニングってこう書くんだなーくらいの参考にしてください。

# 使い方
## CSVファイル
競走馬の共通データであるhorse_train.csvとレース結果であるrace_train.csvを準備します。  
フォーマットのサンプルとして2行分のデータが入ったファイルをリポジトリに入れておきました。  
概ねヘッダを見れば意味はわかると思いますが、`id`はhttps://db.netkeiba.com/horse/xxxxxxxxxx の`xxxxxxxxxx`に入る数字です。  

race_train.csvには予測したいレースのデータも含めてください。  
当然順位などはわかりませんが、ここは適当な数字でOKです。  
ただし、予測したいレースと同日の他のレースデータが入らないようにしてください。

## 実行方法
事前に`using`で使用するライブラリを`Pkg.add`で追加しておいてください。  
動かすだけならば基本的にソースコードを変える必要はありませんが、
```julia
# 予測用データセットの抽出
println(size(df))
df, df_predict = pickupPrediction(df,"2022/06/26")
println(size(df))
println(size(df_predict))
```
の`"2022/06/26"`は必要に応じて変更する必要があります。  
race_train.csvに追加しておいた、予測したいレースのダミーデータの日付に書き換えてください。

## 出力結果
train_race.csvの当日のデータで何行目の馬か＋予測速度の辞書形式で出力します。  
速度の昇順でソートしているため、順位としては後ろ側が1位側となります。  

例：
```
Pair{Int32, Any}[6 => Float32[16.222271;;], 11 => Float32[16.344402;;], 14 => Float32[16.356064;;], 16 => Float32[16.376846;;], 15 => Float32[16.386772;;], 5 => Float32[16.394817;;], 18 => Float32[16.401985;;], 17 => Float32[16.40974;;], 3 => Float32[16.410873;;], 1 => Float32[16.41476;;], 8 => Float32[16.423626;;], 13 => Float32[16.432861;;], 4 => Float32[16.433685;;], 12 => Float32[16.43667;;], 2 => Float32[16.437435;;], 7 => Float32[16.44588;;], 9 => Float32[16.446356;;], 10 => Float32[16.469664;;]]
```
の場合、10番目に記述された馬が1位(16.47 m/s)です。

# 宝塚記念(2022/6/26)の予測動画
https://nico.ms/sm40679872

# 連絡先
[@Mr_isoy](https://twitter.com/Mr_isoy)
